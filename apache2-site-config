<VirtualHost *:80>
	ServerName flinkt.com
	Redirect / http://www.flinkt.org/
</VirtualHost>

<VirtualHost *:80>
	ServerName flinkt.net
	Redirect / http://www.flinkt.org/
</VirtualHost>

<VirtualHost *:80>
	ServerName flinkt.org
	Redirect / http://www.flinkt.org/
</VirtualHost>

<VirtualHost *:80>
	ServerName www.flinkt.com
	Redirect / http://www.flinkt.org/
</VirtualHost>

<VirtualHost *:80>
	ServerName www.flinkt.net
	Redirect / http://www.flinkt.org/
</VirtualHost>

<VirtualHost *:80>
	ServerName factmap.net
	Redirect / http://www.flinkt.org/
</VirtualHost>

<VirtualHost *:80>
	ServerName factmap.org
	Redirect / http://www.flinkt.org/
</VirtualHost>

<VirtualHost *:80>
	ServerName www.factmap.net
	Redirect / http://www.flinkt.org/
</VirtualHost>

<VirtualHost *:80>
	ServerName www.factmap.org
	Redirect / http://www.flinkt.org/
</VirtualHost>

LoadModule  proxy_module         /usr/lib/apache2/modules/mod_proxy.so
LoadModule  proxy_http_module    /usr/lib/apache2/modules/mod_proxy_http.so
LoadModule  headers_module       /usr/lib/apache2/modules/mod_headers.so
LoadModule  deflate_module       /usr/lib/apache2/modules/mod_deflate.so
LoadFile    /usr/lib/libxml2.so

<VirtualHost *:80>
	ServerName www.flinkt.org
	ServerAdmin scottsmith1@gmail.com
    
    ProxyRequests Off
    <Proxy *>
        Order deny,allow
        Allow from all
    </Proxy>
   
    # utils

    ProxyPass /_utils/script http://localhost:5983/_utils/script
    ProxyPassReverse /_utils/script http://localhost:5983/_utils/script
    
    ProxyPass /_uuids http://localhost:5983/_uuids
    ProxyPassReverse /_uuids http://localhost:5983/_uuids
    
    # webclient dynamic

    ProxyPass /view http://localhost:5983/flinktdb/_design/webclient/_view
    ProxyPassReverse /view http://localhost:5983/flinktdb/_design/webclient/_view
    ProxyPass /flinktdb/_design/webclient/_view http://localhost:5983/flinktdb/_design/webclient/_view
    ProxyPassReverse /flinktdb/_design/webclient/_view http://localhost:5983/flinktdb/_design/webclient/_view

    ProxyPass /list http://localhost:5983/flinktdb/_design/webclient/_list
    ProxyPassReverse /list http://localhost:5983/flinktdb/_design/webclient/_list
    ProxyPass /flinktdb/_design/webclient/_list http://localhost:5983/flinktdb/_design/webclient/_list
    ProxyPassReverse /flinktdb/_design/webclient/_list http://localhost:5983/flinktdb/_design/webclient/_list

    ProxyPass /show http://localhost:5983/flinktdb/_design/webclient/_show
    ProxyPassReverse /show http://localhost:5983/flinktdb/_design/webclient/_show
    ProxyPass /flinktdb/_design/webclient/_show http://localhost:5983/flinktdb/_design/webclient/_show
    ProxyPassReverse /flinktdb/_design/webclient/_show http://localhost:5983/flinktdb/_design/webclient/_show
    
    # webclient attachments

    ProxyPass /pages http://localhost:5983/flinktdb/_design/webclient/pages
    ProxyPassReverse /pages http://localhost:5983/flinktdb/_design/webclient/pages
    
    ProxyPass /images http://localhost:5983/flinktdb/_design/webclient/images/
    ProxyPassReverse /images http://localhost:5983/flinktdb/_design/webclient/images/
	
    ProxyPass /js/ http://localhost:5983/flinktdb/_design/webclient/js/
    ProxyPassReverse /js/ http://localhost:5983/flinktdb/_design/webclient/js/

    # obsolete

    ProxyPass /static/js/ http://localhost:5983/flinktdb/_design/webclient/js/
    ProxyPassReverse /static/js/ http://localhost:5983/flinktdb/_design/webclient/js/

    ProxyPass /test http://localhost:5983/flinktdb/_design/webclient/test
    ProxyPassReverse /test http://localhost:5983/flinktdb/_design/webclient/test
    
    # webclient static pages
    
    ProxyPass /demo http://localhost:5983/flinktdb/_design/webclient/pages/demo.html
    ProxyPassReverse /demo http://localhost:5983/flinktdb/_design/webclient/pages/demo.html
    
    ProxyPass /faq http://localhost:5983/flinktdb/_design/webclient/pages/faq.html
    ProxyPassReverse /faq http://localhost:5983/flinktdb/_design/webclient/pages/faq.html

    # don't let people get the design document

    ProxyPass /flinktdb/_design/webclient/js http://localhost:5983/flinktdb/_design/webclient/js
    ProxyPassReverse /flinktdb/_design/webclient/js http://localhost:5983/flinktdb/_design/webclient/js
    
    ProxyPass /flinktdb/_design http://localhost:5983/flinktdb/_design/webclient/pages/under-construction.html
    ProxyPassReverse /flinktdb/_design http://localhost:5983/flinktdb/_design/webclient/pages/under-construction.html

    # allow generic access to couchapp documents besides the ones caught above

    ProxyPass /flinktdb http://localhost:5983/flinktdb
    ProxyPassReverse /flinktdb http://localhost:5983/flinktdb
    
    ProxyPass /couchdb-xd http://localhost:5983/couchdb-xd
    ProxyPassReverse /couchdb-xd http://localhost:5983/couchdb-xd
    
    # default page is "under constructions"

    ProxyPass / http://localhost:5983/flinktdb/_design/webclient/pages/under-construction.html
    ProxyPassReverse / http://localhost:5983/flinktdb/_design/webclient/pages/under-construction.html

    #<Location "/">
	#    SetHandler python-program
	#    PythonHandler django.core.handlers.modpython
	#    PythonDebug On
	#    PythonPath "['/var/www/www.flinkt.org/'] + sys.path "
	#    SetEnv DJANGO_SETTINGS_MODULE factmap.settings
	#</Location>
	
    #Alias /images "/var/www/www.flinkt.org/images"
    #<Location "/images">
    #    SetHandler None
    #</Location>
    
    #Alias /static/js "/var/www/www.flinkt.org/static/js"
    #<Location "/static/js">
    #    SetHandler None
    #</Location>

	ErrorLog /var/log/apache2/factmap.org-error.log

	# Possible values include: debug, info, notice, warn, error, crit,
	# alert, emerg.
	LogLevel warn

	CustomLog /var/log/apache2/factmap.org-access.log combined
	ServerSignature Off
</VirtualHost>

